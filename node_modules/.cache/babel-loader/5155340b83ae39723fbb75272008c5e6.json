{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\panther-frontend-dex1\\\\src\\\\components\\\\SearchModal\\\\ListSelect.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { memo, useCallback, useMemo, useRef, useState } from 'react';\nimport { ArrowLeft } from 'react-feather';\nimport { usePopper } from 'react-popper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Button, Text, ChevronDownIcon } from '@pantherswap-libs/uikit';\nimport styled from 'styled-components';\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback';\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside';\nimport useToggle from '../../hooks/useToggle';\nimport { acceptListUpdate, removeList, selectList } from '../../state/lists/actions';\nimport { useSelectedListUrl } from '../../state/lists/hooks';\nimport { CloseIcon, ExternalLink, LinkStyledButton, TYPE } from '../Shared';\nimport listVersionLabel from '../../utils/listVersionLabel';\nimport { parseENSAddress } from '../../utils/parseENSAddress';\nimport uriToHttp from '../../utils/uriToHttp';\nimport Column from '../Column';\nimport ListLogo from '../ListLogo';\nimport QuestionHelper from '../QuestionHelper';\nimport Row, { RowBetween } from '../Row';\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  error: Error\n} = TYPE;\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\n  padding: 0;\n  font-size: 1rem;\n  opacity: ${_ref => {\n  let {\n    disabled\n  } = _ref;\n  return disabled ? '0.4' : '1';\n}};\n`;\n_c = UnpaddedLinkStyledButton;\nconst PopoverContainer = styled.div`\n  z-index: 100;\n  visibility: ${props => props.show ? 'visible' : 'hidden'};\n  opacity: ${props => props.show ? 1 : 0};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  background: ${_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme.colors.invertedContrast;\n}};\n  border: 1px solid ${_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme.colors.tertiary;\n}};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\n    0px 24px 32px rgba(0, 0, 0, 0.01);\n  color: ${_ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme.colors.textSubtle;\n}};\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-gap: 8px;\n  font-size: 1rem;\n  text-align: left;\n`;\n_c2 = PopoverContainer;\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n`;\n_c3 = StyledMenu;\nconst StyledListUrlText = styled.div`\n  max-width: 160px;\n  opacity: 0.6;\n  margin-right: 0.5rem;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n_c4 = StyledListUrlText;\nfunction ListOrigin(_ref5) {\n  _s();\n  let {\n    listUrl\n  } = _ref5;\n  const ensName = useMemo(() => {\n    var _parseENSAddress;\n    return (_parseENSAddress = parseENSAddress(listUrl)) === null || _parseENSAddress === void 0 ? void 0 : _parseENSAddress.ensName;\n  }, [listUrl]);\n  const host = useMemo(() => {\n    if (ensName) return undefined;\n    const lowerListUrl = listUrl.toLowerCase();\n    if (lowerListUrl.startsWith('ipfs://') || lowerListUrl.startsWith('ipns://')) {\n      return listUrl;\n    }\n    try {\n      const url = new URL(listUrl);\n      return url.host;\n    } catch (error) {\n      return undefined;\n    }\n  }, [listUrl, ensName]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: ensName !== null && ensName !== void 0 ? ensName : host\n  }, void 0, false);\n}\n_s(ListOrigin, \"SxtAwdTxOPoU+UHqf6mYStIkrko=\");\n_c5 = ListOrigin;\nfunction listUrlRowHTMLId(listUrl) {\n  return `list-row-${listUrl.replace(/\\./g, '-')}`;\n}\nconst ListRow = /*#__PURE__*/memo(_c6 = _s2(function ListRow(_ref6) {\n  _s2();\n  let {\n    listUrl,\n    onBack\n  } = _ref6;\n  const listsByUrl = useSelector(state => state.lists.byUrl);\n  const selectedListUrl = useSelectedListUrl();\n  const dispatch = useDispatch();\n  const {\n    current: list,\n    pendingUpdate: pending\n  } = listsByUrl[listUrl];\n  const isSelected = listUrl === selectedListUrl;\n  const [open, toggle] = useToggle(false);\n  const node = useRef();\n  const [referenceElement, setReferenceElement] = useState();\n  const [popperElement, setPopperElement] = useState();\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    placement: 'auto',\n    strategy: 'fixed',\n    modifiers: [{\n      name: 'offset',\n      options: {\n        offset: [8, 8]\n      }\n    }]\n  });\n  useOnClickOutside(node, open ? toggle : undefined);\n  const selectThisList = useCallback(() => {\n    if (isSelected) return;\n    dispatch(selectList(listUrl));\n    onBack();\n  }, [dispatch, isSelected, listUrl, onBack]);\n  const handleAcceptListUpdate = useCallback(() => {\n    if (!pending) return;\n    dispatch(acceptListUpdate(listUrl));\n  }, [dispatch, listUrl, pending]);\n  const handleRemoveList = useCallback(() => {\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\n      dispatch(removeList(listUrl));\n    }\n  }, [dispatch, listUrl]);\n  if (!list) return null;\n  return /*#__PURE__*/_jsxDEV(Row, {\n    align: \"center\",\n    padding: \"16px\",\n    id: listUrlRowHTMLId(listUrl),\n    children: [list.logoURI ? /*#__PURE__*/_jsxDEV(ListLogo, {\n      style: {\n        marginRight: '1rem'\n      },\n      logoURI: list.logoURI,\n      alt: `${list.name} list logo`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '24px',\n        height: '24px',\n        marginRight: '1rem'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      style: {\n        flex: '1'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          bold: isSelected,\n          fontSize: \"16px\",\n          style: {\n            overflow: 'hidden',\n            textOverflow: 'ellipsis'\n          },\n          children: list.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          marginTop: '4px'\n        },\n        children: /*#__PURE__*/_jsxDEV(StyledListUrlText, {\n          title: listUrl,\n          children: /*#__PURE__*/_jsxDEV(ListOrigin, {\n            listUrl: listUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledMenu, {\n      ref: node,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'inline-block'\n        },\n        ref: setReferenceElement,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            width: '32px',\n            marginRight: '8px'\n          },\n          onClick: toggle,\n          variant: \"secondary\",\n          children: /*#__PURE__*/_jsxDEV(ChevronDownIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), open && /*#__PURE__*/_jsxDEV(PopoverContainer, {\n        show: true,\n        ref: setPopperElement,\n        style: styles.popper,\n        ...attributes.popper,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: list && listVersionLabel(list.version)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SeparatorDark, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ExternalLink, {\n          href: `https://tokenlists.org/token-list?url=${listUrl}`,\n          children: \"View list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(UnpaddedLinkStyledButton, {\n          onClick: handleRemoveList,\n          disabled: Object.keys(listsByUrl).length === 1,\n          children: \"Remove list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), pending && /*#__PURE__*/_jsxDEV(UnpaddedLinkStyledButton, {\n          onClick: handleAcceptListUpdate,\n          children: \"Update list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), isSelected ? /*#__PURE__*/_jsxDEV(Button, {\n      disabled: true,\n      style: {\n        width: '5rem',\n        minWidth: '5rem'\n      },\n      children: \"Selected\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"select-button\",\n        style: {\n          width: '5rem',\n          minWidth: '4.5rem'\n        },\n        onClick: selectThisList,\n        children: \"Select\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, listUrl, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}, \"uzaNpPm/bOWMxoYUl6utOd4w8HQ=\", false, function () {\n  return [useSelector, useSelectedListUrl, useDispatch, useToggle, usePopper, useOnClickOutside];\n}));\n_c7 = ListRow;\nconst ListContainer = styled.div`\n  flex: 1;\n  overflow: auto;\n`;\n_c8 = ListContainer;\nexport function ListSelect(_ref7) {\n  _s3();\n  var _lists$listUrlInput;\n  let {\n    onDismiss,\n    onBack\n  } = _ref7;\n  const [listUrlInput, setListUrlInput] = useState('');\n  const dispatch = useDispatch();\n  const lists = useSelector(state => state.lists.byUrl);\n  const adding = Boolean((_lists$listUrlInput = lists[listUrlInput]) === null || _lists$listUrlInput === void 0 ? void 0 : _lists$listUrlInput.loadingRequestId);\n  const [addError, setAddError] = useState(null);\n  const handleInput = useCallback(e => {\n    setListUrlInput(e.target.value);\n    setAddError(null);\n  }, []);\n  const fetchList = useFetchListCallback();\n  const handleAddList = useCallback(() => {\n    if (adding) return;\n    setAddError(null);\n    fetchList(listUrlInput).then(() => {\n      setListUrlInput('');\n    }).catch(error => {\n      setAddError(error.message);\n      dispatch(removeList(listUrlInput));\n    });\n  }, [adding, dispatch, fetchList, listUrlInput]);\n  const validUrl = useMemo(() => {\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput));\n  }, [listUrlInput]);\n  const handleEnterKey = useCallback(e => {\n    if (validUrl && e.key === 'Enter') {\n      handleAddList();\n    }\n  }, [handleAddList, validUrl]);\n  const sortedLists = useMemo(() => {\n    const listUrls = Object.keys(lists);\n    return listUrls.filter(listUrl => {\n      return Boolean(lists[listUrl].current);\n    }).sort((u1, u2) => {\n      const {\n        current: l1\n      } = lists[u1];\n      const {\n        current: l2\n      } = lists[u2];\n      if (l1 && l2) {\n        return l1.name.toLowerCase() < l2.name.toLowerCase() ? -1 : l1.name.toLowerCase() === l2.name.toLowerCase() ? 0 : 1;\n      }\n      if (l1) return -1;\n      if (l2) return 1;\n      return 0;\n    });\n  }, [lists]);\n  return /*#__PURE__*/_jsxDEV(Column, {\n    style: {\n      width: '100%',\n      flex: '1 1'\n    },\n    children: [/*#__PURE__*/_jsxDEV(PaddedColumn, {\n      children: /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ArrowLeft, {\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: onBack\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: \"20px\",\n          children: \"Manage Lists\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n          onClick: onDismiss\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PaddedColumn, {\n      gap: \"14px\",\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        bold: true,\n        children: [\"Add a list\", ' ', /*#__PURE__*/_jsxDEV(QuestionHelper, {\n          text: \"Token lists are an open specification for lists of BEP20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious BEP20 tokens.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          id: \"list-add-input\",\n          placeholder: \"https:// or ipfs:// or ENS name\",\n          value: listUrlInput,\n          onChange: handleInput,\n          onKeyDown: handleEnterKey,\n          style: {\n            height: '2.75rem',\n            borderRadius: 12,\n            padding: '12px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddList,\n          style: {\n            maxWidth: '4em',\n            marginLeft: '1em'\n          },\n          disabled: !validUrl,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), addError ? /*#__PURE__*/_jsxDEV(Error, {\n        title: addError,\n        style: {\n          textOverflow: 'ellipsis',\n          overflow: 'hidden'\n        },\n        error: true,\n        children: addError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListContainer, {\n      children: sortedLists.map(listUrl => /*#__PURE__*/_jsxDEV(ListRow, {\n        listUrl: listUrl,\n        onBack: onBack\n      }, listUrl, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(ExternalLink, {\n        href: \"https://tokenlists.org\",\n        children: \"Browse lists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 271,\n    columnNumber: 5\n  }, this);\n}\n_s3(ListSelect, \"/hgRDerya3FeypPOkWUTZaPmKAM=\", false, function () {\n  return [useDispatch, useSelector, useFetchListCallback];\n});\n_c9 = ListSelect;\nexport default ListSelect;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"UnpaddedLinkStyledButton\");\n$RefreshReg$(_c2, \"PopoverContainer\");\n$RefreshReg$(_c3, \"StyledMenu\");\n$RefreshReg$(_c4, \"StyledListUrlText\");\n$RefreshReg$(_c5, \"ListOrigin\");\n$RefreshReg$(_c6, \"ListRow$memo\");\n$RefreshReg$(_c7, \"ListRow\");\n$RefreshReg$(_c8, \"ListContainer\");\n$RefreshReg$(_c9, \"ListSelect\");","map":{"version":3,"names":["React","memo","useCallback","useMemo","useRef","useState","ArrowLeft","usePopper","useDispatch","useSelector","Button","Text","ChevronDownIcon","styled","useFetchListCallback","useOnClickOutside","useToggle","acceptListUpdate","removeList","selectList","useSelectedListUrl","CloseIcon","ExternalLink","LinkStyledButton","TYPE","listVersionLabel","parseENSAddress","uriToHttp","Column","ListLogo","QuestionHelper","Row","RowBetween","PaddedColumn","SearchInput","Separator","SeparatorDark","Fragment","_Fragment","jsxDEV","_jsxDEV","error","Error","UnpaddedLinkStyledButton","_ref","disabled","_c","PopoverContainer","div","props","show","_ref2","theme","colors","invertedContrast","_ref3","tertiary","_ref4","textSubtle","_c2","StyledMenu","_c3","StyledListUrlText","_c4","ListOrigin","_ref5","_s","listUrl","ensName","_parseENSAddress","host","undefined","lowerListUrl","toLowerCase","startsWith","url","URL","children","_c5","listUrlRowHTMLId","replace","ListRow","_c6","_s2","_ref6","onBack","listsByUrl","state","lists","byUrl","selectedListUrl","dispatch","current","list","pendingUpdate","pending","isSelected","open","toggle","node","referenceElement","setReferenceElement","popperElement","setPopperElement","styles","attributes","placement","strategy","modifiers","name","options","offset","selectThisList","handleAcceptListUpdate","handleRemoveList","window","prompt","align","padding","id","logoURI","style","marginRight","alt","fileName","_jsxFileName","lineNumber","columnNumber","width","height","flex","bold","fontSize","overflow","textOverflow","marginTop","title","ref","display","onClick","variant","popper","version","href","Object","keys","length","minWidth","className","_c7","ListContainer","_c8","ListSelect","_ref7","_s3","_lists$listUrlInput","onDismiss","listUrlInput","setListUrlInput","adding","Boolean","loadingRequestId","addError","setAddError","handleInput","e","target","value","fetchList","handleAddList","then","catch","message","validUrl","handleEnterKey","key","sortedLists","listUrls","filter","sort","u1","u2","l1","l2","cursor","gap","text","type","placeholder","onChange","onKeyDown","borderRadius","maxWidth","marginLeft","map","textAlign","_c9","$RefreshReg$"],"sources":["C:/projects/panther-frontend-dex1/src/components/SearchModal/ListSelect.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo, useRef, useState } from 'react'\r\nimport { ArrowLeft } from 'react-feather'\r\nimport { usePopper } from 'react-popper'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Button, Text, ChevronDownIcon } from '@pantherswap-libs/uikit'\r\nimport styled from 'styled-components'\r\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { AppDispatch, AppState } from '../../state'\r\nimport { acceptListUpdate, removeList, selectList } from '../../state/lists/actions'\r\nimport { useSelectedListUrl } from '../../state/lists/hooks'\r\nimport { CloseIcon, ExternalLink, LinkStyledButton, TYPE } from '../Shared'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { parseENSAddress } from '../../utils/parseENSAddress'\r\nimport uriToHttp from '../../utils/uriToHttp'\r\nimport Column from '../Column'\r\nimport ListLogo from '../ListLogo'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Row, { RowBetween } from '../Row'\r\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds'\r\n\r\nconst { error: Error } = TYPE\r\n\r\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\r\n  padding: 0;\r\n  font-size: 1rem;\r\n  opacity: ${({ disabled }) => (disabled ? '0.4' : '1')};\r\n`\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 100;\r\n  visibility: ${(props) => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${(props) => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n  background: ${({ theme }) => theme.colors.invertedContrast};\r\n  border: 1px solid ${({ theme }) => theme.colors.tertiary};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  color: ${({ theme }) => theme.colors.textSubtle};\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  display: grid;\r\n  grid-template-rows: 1fr;\r\n  grid-gap: 8px;\r\n  font-size: 1rem;\r\n  text-align: left;\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n`\r\n\r\nconst StyledListUrlText = styled.div`\r\n  max-width: 160px;\r\n  opacity: 0.6;\r\n  margin-right: 0.5rem;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nfunction ListOrigin({ listUrl }: { listUrl: string }) {\r\n  const ensName = useMemo(() => parseENSAddress(listUrl)?.ensName, [listUrl])\r\n  const host = useMemo(() => {\r\n    if (ensName) return undefined\r\n    const lowerListUrl = listUrl.toLowerCase()\r\n    if (lowerListUrl.startsWith('ipfs://') || lowerListUrl.startsWith('ipns://')) {\r\n      return listUrl\r\n    }\r\n    try {\r\n      const url = new URL(listUrl)\r\n      return url.host\r\n    } catch (error) {\r\n      return undefined\r\n    }\r\n  }, [listUrl, ensName])\r\n  return <>{ensName ?? host}</>\r\n}\r\n\r\nfunction listUrlRowHTMLId(listUrl: string) {\r\n  return `list-row-${listUrl.replace(/\\./g, '-')}`\r\n}\r\n\r\nconst ListRow = memo(function ListRow({ listUrl, onBack }: { listUrl: string; onBack: () => void }) {\r\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>((state) => state.lists.byUrl)\r\n  const selectedListUrl = useSelectedListUrl()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\r\n\r\n  const isSelected = listUrl === selectedListUrl\r\n\r\n  const [open, toggle] = useToggle(false)\r\n  const node = useRef<HTMLDivElement>()\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement | null>()\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>()\r\n\r\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement: 'auto',\r\n    strategy: 'fixed',\r\n    modifiers: [{ name: 'offset', options: { offset: [8, 8] } }],\r\n  })\r\n\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  const selectThisList = useCallback(() => {\r\n    if (isSelected) return\r\n\r\n    dispatch(selectList(listUrl))\r\n    onBack()\r\n  }, [dispatch, isSelected, listUrl, onBack])\r\n\r\n  const handleAcceptListUpdate = useCallback(() => {\r\n    if (!pending) return\r\n    dispatch(acceptListUpdate(listUrl))\r\n  }, [dispatch, listUrl, pending])\r\n\r\n  const handleRemoveList = useCallback(() => {\r\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\r\n      dispatch(removeList(listUrl))\r\n    }\r\n  }, [dispatch, listUrl])\r\n\r\n  if (!list) return null\r\n\r\n  return (\r\n    <Row key={listUrl} align=\"center\" padding=\"16px\" id={listUrlRowHTMLId(listUrl)}>\r\n      {list.logoURI ? (\r\n        <ListLogo style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\r\n      ) : (\r\n        <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\r\n      )}\r\n      <Column style={{ flex: '1' }}>\r\n        <Row>\r\n          <Text bold={isSelected} fontSize=\"16px\" style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n            {list.name}\r\n          </Text>\r\n        </Row>\r\n        <Row\r\n          style={{\r\n            marginTop: '4px',\r\n          }}\r\n        >\r\n          <StyledListUrlText title={listUrl}>\r\n            <ListOrigin listUrl={listUrl} />\r\n          </StyledListUrlText>\r\n        </Row>\r\n      </Column>\r\n      <StyledMenu ref={node as any}>\r\n        <div style={{ display: 'inline-block' }} ref={setReferenceElement}>\r\n          <Button\r\n            style={{\r\n              width: '32px',\r\n              marginRight: '8px',\r\n            }}\r\n            onClick={toggle}\r\n            variant=\"secondary\"\r\n          >\r\n            <ChevronDownIcon />\r\n          </Button>\r\n        </div>\r\n\r\n        {open && (\r\n          <PopoverContainer show ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n            <div>{list && listVersionLabel(list.version)}</div>\r\n            <SeparatorDark />\r\n            <ExternalLink href={`https://tokenlists.org/token-list?url=${listUrl}`}>View list</ExternalLink>\r\n            <UnpaddedLinkStyledButton onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\r\n              Remove list\r\n            </UnpaddedLinkStyledButton>\r\n            {pending && (\r\n              <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>Update list</UnpaddedLinkStyledButton>\r\n            )}\r\n          </PopoverContainer>\r\n        )}\r\n      </StyledMenu>\r\n      {isSelected ? (\r\n        <Button disabled style={{ width: '5rem', minWidth: '5rem' }}>\r\n          Selected\r\n        </Button>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            className=\"select-button\"\r\n            style={{\r\n              width: '5rem',\r\n              minWidth: '4.5rem',\r\n            }}\r\n            onClick={selectThisList}\r\n          >\r\n            Select\r\n          </Button>\r\n        </>\r\n      )}\r\n    </Row>\r\n  )\r\n})\r\n\r\nconst ListContainer = styled.div`\r\n  flex: 1;\r\n  overflow: auto;\r\n`\r\n\r\nexport function ListSelect({ onDismiss, onBack }: { onDismiss: () => void; onBack: () => void }) {\r\n  const [listUrlInput, setListUrlInput] = useState<string>('')\r\n\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>((state) => state.lists.byUrl)\r\n  const adding = Boolean(lists[listUrlInput]?.loadingRequestId)\r\n  const [addError, setAddError] = useState<string | null>(null)\r\n\r\n  const handleInput = useCallback((e) => {\r\n    setListUrlInput(e.target.value)\r\n    setAddError(null)\r\n  }, [])\r\n  const fetchList = useFetchListCallback()\r\n\r\n  const handleAddList = useCallback(() => {\r\n    if (adding) return\r\n    setAddError(null)\r\n    fetchList(listUrlInput)\r\n      .then(() => {\r\n        setListUrlInput('')\r\n      })\r\n      .catch((error) => {\r\n        setAddError(error.message)\r\n        dispatch(removeList(listUrlInput))\r\n      })\r\n  }, [adding, dispatch, fetchList, listUrlInput])\r\n\r\n  const validUrl: boolean = useMemo(() => {\r\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\r\n  }, [listUrlInput])\r\n\r\n  const handleEnterKey = useCallback(\r\n    (e) => {\r\n      if (validUrl && e.key === 'Enter') {\r\n        handleAddList()\r\n      }\r\n    },\r\n    [handleAddList, validUrl]\r\n  )\r\n\r\n  const sortedLists = useMemo(() => {\r\n    const listUrls = Object.keys(lists)\r\n    return listUrls\r\n      .filter((listUrl) => {\r\n        return Boolean(lists[listUrl].current)\r\n      })\r\n      .sort((u1, u2) => {\r\n        const { current: l1 } = lists[u1]\r\n        const { current: l2 } = lists[u2]\r\n        if (l1 && l2) {\r\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\r\n            ? -1\r\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\r\n            ? 0\r\n            : 1\r\n        }\r\n        if (l1) return -1\r\n        if (l2) return 1\r\n        return 0\r\n      })\r\n  }, [lists])\r\n\r\n  return (\r\n    <Column style={{ width: '100%', flex: '1 1' }}>\r\n      <PaddedColumn>\r\n        <RowBetween>\r\n          <div>\r\n            <ArrowLeft style={{ cursor: 'pointer' }} onClick={onBack} />\r\n          </div>\r\n          <Text fontSize=\"20px\">Manage Lists</Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <PaddedColumn gap=\"14px\">\r\n        <Text bold>\r\n          Add a list{' '}\r\n          <QuestionHelper text=\"Token lists are an open specification for lists of BEP20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious BEP20 tokens.\" />\r\n        </Text>\r\n        <Row>\r\n          <SearchInput\r\n            type=\"text\"\r\n            id=\"list-add-input\"\r\n            placeholder=\"https:// or ipfs:// or ENS name\"\r\n            value={listUrlInput}\r\n            onChange={handleInput}\r\n            onKeyDown={handleEnterKey}\r\n            style={{ height: '2.75rem', borderRadius: 12, padding: '12px' }}\r\n          />\r\n          <Button onClick={handleAddList} style={{ maxWidth: '4em', marginLeft: '1em' }} disabled={!validUrl}>\r\n            Add\r\n          </Button>\r\n        </Row>\r\n        {addError ? (\r\n          <Error title={addError} style={{ textOverflow: 'ellipsis', overflow: 'hidden' }} error>\r\n            {addError}\r\n          </Error>\r\n        ) : null}\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <ListContainer>\r\n        {sortedLists.map((listUrl) => (\r\n          <ListRow key={listUrl} listUrl={listUrl} onBack={onBack} />\r\n        ))}\r\n      </ListContainer>\r\n      <Separator />\r\n\r\n      <div style={{ padding: '16px', textAlign: 'center' }}>\r\n        <ExternalLink href=\"https://tokenlists.org\">Browse lists</ExternalLink>\r\n      </div>\r\n    </Column>\r\n  )\r\n}\r\n\r\nexport default ListSelect\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}