{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\panther-frontend-dex1\\\\src\\\\components\\\\swap\\\\ConfirmSwapModal.tsx\",\n  _s = $RefreshSig$();\nimport { currencyEquals } from '@pantherswap-libs/sdk';\nimport React, { useCallback, useMemo } from 'react';\nimport TransactionConfirmationModal, { ConfirmationModalContent, TransactionErrorContent } from '../TransactionConfirmationModal';\nimport SwapModalFooter from './SwapModalFooter';\nimport SwapModalHeader from './SwapModalHeader';\n\n/**\r\n * Returns true if the trade requires a confirmation of details before we can submit it\r\n * @param tradeA trade A\r\n * @param tradeB trade B\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction tradeMeaningfullyDiffers(tradeA, tradeB) {\n  return tradeA.tradeType !== tradeB.tradeType || !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) || !tradeA.inputAmount.equalTo(tradeB.inputAmount) || !currencyEquals(tradeA.outputAmount.currency, tradeB.outputAmount.currency) || !tradeA.outputAmount.equalTo(tradeB.outputAmount);\n}\nexport default function ConfirmSwapModal(_ref) {\n  _s();\n  var _trade$inputAmount, _trade$inputAmount2, _trade$inputAmount2$c, _trade$outputAmount, _trade$outputAmount2, _trade$outputAmount2$;\n  let {\n    trade,\n    originalTrade,\n    onAcceptChanges,\n    allowedSlippage,\n    onConfirm,\n    onDismiss,\n    recipient,\n    swapErrorMessage,\n    isOpen,\n    attemptingTxn,\n    txHash\n  } = _ref;\n  const showAcceptChanges = useMemo(() => Boolean(trade && originalTrade && tradeMeaningfullyDiffers(trade, originalTrade)), [originalTrade, trade]);\n  const modalHeader = useCallback(() => {\n    return trade ? /*#__PURE__*/_jsxDEV(SwapModalHeader, {\n      trade: trade,\n      allowedSlippage: allowedSlippage,\n      recipient: recipient,\n      showAcceptChanges: showAcceptChanges,\n      onAcceptChanges: onAcceptChanges\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this) : null;\n  }, [allowedSlippage, onAcceptChanges, recipient, showAcceptChanges, trade]);\n  const modalBottom = useCallback(() => {\n    return trade ? /*#__PURE__*/_jsxDEV(SwapModalFooter, {\n      onConfirm: onConfirm,\n      trade: trade,\n      disabledConfirm: showAcceptChanges,\n      swapErrorMessage: swapErrorMessage,\n      allowedSlippage: allowedSlippage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this) : null;\n  }, [allowedSlippage, onConfirm, showAcceptChanges, swapErrorMessage, trade]);\n\n  // text to show while loading\n  const pendingText = `Swapping ${trade === null || trade === void 0 ? void 0 : (_trade$inputAmount = trade.inputAmount) === null || _trade$inputAmount === void 0 ? void 0 : _trade$inputAmount.toSignificant(6)} ${trade === null || trade === void 0 ? void 0 : (_trade$inputAmount2 = trade.inputAmount) === null || _trade$inputAmount2 === void 0 ? void 0 : (_trade$inputAmount2$c = _trade$inputAmount2.currency) === null || _trade$inputAmount2$c === void 0 ? void 0 : _trade$inputAmount2$c.symbol} for ${trade === null || trade === void 0 ? void 0 : (_trade$outputAmount = trade.outputAmount) === null || _trade$outputAmount === void 0 ? void 0 : _trade$outputAmount.toSignificant(6)} ${trade === null || trade === void 0 ? void 0 : (_trade$outputAmount2 = trade.outputAmount) === null || _trade$outputAmount2 === void 0 ? void 0 : (_trade$outputAmount2$ = _trade$outputAmount2.currency) === null || _trade$outputAmount2$ === void 0 ? void 0 : _trade$outputAmount2$.symbol}`;\n  const confirmationContent = useCallback(() => swapErrorMessage ? /*#__PURE__*/_jsxDEV(TransactionErrorContent, {\n    onDismiss: onDismiss,\n    message: swapErrorMessage\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(ConfirmationModalContent, {\n    title: \"Confirm Swap\",\n    onDismiss: onDismiss,\n    topContent: modalHeader,\n    bottomContent: modalBottom\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this), [onDismiss, modalBottom, modalHeader, swapErrorMessage]);\n  return /*#__PURE__*/_jsxDEV(TransactionConfirmationModal, {\n    isOpen: isOpen,\n    onDismiss: onDismiss,\n    attemptingTxn: attemptingTxn,\n    hash: txHash,\n    content: confirmationContent,\n    pendingText: pendingText\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(ConfirmSwapModal, \"XVlkTQm3sEHx0PNYtOwfjDIHtrg=\");\n_c = ConfirmSwapModal;\nvar _c;\n$RefreshReg$(_c, \"ConfirmSwapModal\");","map":{"version":3,"names":["currencyEquals","React","useCallback","useMemo","TransactionConfirmationModal","ConfirmationModalContent","TransactionErrorContent","SwapModalFooter","SwapModalHeader","jsxDEV","_jsxDEV","tradeMeaningfullyDiffers","tradeA","tradeB","tradeType","inputAmount","currency","equalTo","outputAmount","ConfirmSwapModal","_ref","_s","_trade$inputAmount","_trade$inputAmount2","_trade$inputAmount2$c","_trade$outputAmount","_trade$outputAmount2","_trade$outputAmount2$","trade","originalTrade","onAcceptChanges","allowedSlippage","onConfirm","onDismiss","recipient","swapErrorMessage","isOpen","attemptingTxn","txHash","showAcceptChanges","Boolean","modalHeader","fileName","_jsxFileName","lineNumber","columnNumber","modalBottom","disabledConfirm","pendingText","toSignificant","symbol","confirmationContent","message","title","topContent","bottomContent","hash","content","_c","$RefreshReg$"],"sources":["C:/projects/panther-frontend-dex1/src/components/swap/ConfirmSwapModal.tsx"],"sourcesContent":["import { currencyEquals, Trade } from '@pantherswap-libs/sdk'\r\nimport React, { useCallback, useMemo } from 'react'\r\nimport TransactionConfirmationModal, {\r\n  ConfirmationModalContent,\r\n  TransactionErrorContent\r\n} from '../TransactionConfirmationModal'\r\nimport SwapModalFooter from './SwapModalFooter'\r\nimport SwapModalHeader from './SwapModalHeader'\r\n\r\n/**\r\n * Returns true if the trade requires a confirmation of details before we can submit it\r\n * @param tradeA trade A\r\n * @param tradeB trade B\r\n */\r\nfunction tradeMeaningfullyDiffers(tradeA: Trade, tradeB: Trade): boolean {\r\n  return (\r\n    tradeA.tradeType !== tradeB.tradeType ||\r\n    !currencyEquals(tradeA.inputAmount.currency, tradeB.inputAmount.currency) ||\r\n    !tradeA.inputAmount.equalTo(tradeB.inputAmount) ||\r\n    !currencyEquals(tradeA.outputAmount.currency, tradeB.outputAmount.currency) ||\r\n    !tradeA.outputAmount.equalTo(tradeB.outputAmount)\r\n  )\r\n}\r\n\r\nexport default function ConfirmSwapModal({\r\n  trade,\r\n  originalTrade,\r\n  onAcceptChanges,\r\n  allowedSlippage,\r\n  onConfirm,\r\n  onDismiss,\r\n  recipient,\r\n  swapErrorMessage,\r\n  isOpen,\r\n  attemptingTxn,\r\n  txHash\r\n}: {\r\n  isOpen: boolean\r\n  trade: Trade | undefined\r\n  originalTrade: Trade | undefined\r\n  attemptingTxn: boolean\r\n  txHash: string | undefined\r\n  recipient: string | null\r\n  allowedSlippage: number\r\n  onAcceptChanges: () => void\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  onDismiss: () => void\r\n}) {\r\n  const showAcceptChanges = useMemo(\r\n    () => Boolean(trade && originalTrade && tradeMeaningfullyDiffers(trade, originalTrade)),\r\n    [originalTrade, trade]\r\n  )\r\n\r\n  const modalHeader = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalHeader\r\n        trade={trade}\r\n        allowedSlippage={allowedSlippage}\r\n        recipient={recipient}\r\n        showAcceptChanges={showAcceptChanges}\r\n        onAcceptChanges={onAcceptChanges}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onAcceptChanges, recipient, showAcceptChanges, trade])\r\n\r\n  const modalBottom = useCallback(() => {\r\n    return trade ? (\r\n      <SwapModalFooter\r\n        onConfirm={onConfirm}\r\n        trade={trade}\r\n        disabledConfirm={showAcceptChanges}\r\n        swapErrorMessage={swapErrorMessage}\r\n        allowedSlippage={allowedSlippage}\r\n      />\r\n    ) : null\r\n  }, [allowedSlippage, onConfirm, showAcceptChanges, swapErrorMessage, trade])\r\n\r\n  // text to show while loading\r\n  const pendingText = `Swapping ${trade?.inputAmount?.toSignificant(6)} ${\r\n    trade?.inputAmount?.currency?.symbol\r\n  } for ${trade?.outputAmount?.toSignificant(6)} ${trade?.outputAmount?.currency?.symbol}`\r\n\r\n  const confirmationContent = useCallback(\r\n    () =>\r\n      swapErrorMessage ? (\r\n        <TransactionErrorContent onDismiss={onDismiss} message={swapErrorMessage} />\r\n      ) : (\r\n        <ConfirmationModalContent\r\n          title=\"Confirm Swap\"\r\n          onDismiss={onDismiss}\r\n          topContent={modalHeader}\r\n          bottomContent={modalBottom}\r\n        />\r\n      ),\r\n    [onDismiss, modalBottom, modalHeader, swapErrorMessage]\r\n  )\r\n\r\n  return (\r\n    <TransactionConfirmationModal\r\n      isOpen={isOpen}\r\n      onDismiss={onDismiss}\r\n      attemptingTxn={attemptingTxn}\r\n      hash={txHash}\r\n      content={confirmationContent}\r\n      pendingText={pendingText}\r\n    />\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}