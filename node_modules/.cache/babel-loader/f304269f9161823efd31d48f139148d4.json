{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { TranslationsContext } from '../hooks/TranslationsContext';\nconst variableRegex = /%(.*?)%/;\nconst replaceDynamicString = (foundTranslation, fallback) => {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const stringToReplace = variableRegex.exec(foundTranslation)[0];\n  const indexToReplace = foundTranslation.split(' ').indexOf(stringToReplace);\n  const fallbackValueAtIndex = fallback.split(' ')[indexToReplace];\n  return foundTranslation.replace(stringToReplace, fallbackValueAtIndex);\n};\nexport const getTranslation = (translations, translationId, fallback) => {\n  const foundTranslation = translations.find(translation => {\n    return translation.data.stringId === translationId;\n  });\n  if (foundTranslation) {\n    const translatedString = foundTranslation.data.text;\n    const includesVariable = translatedString.includes('%');\n    if (includesVariable) {\n      return replaceDynamicString(translatedString, fallback);\n    }\n    return translatedString;\n  }\n  return fallback;\n};\nexport const TranslateString = (translationId, fallback) => {\n  _s();\n  const {\n    translations\n  } = useContext(TranslationsContext);\n  if (translations[0] === 'error') {\n    return fallback;\n  }\n  if (translations.length > 0) {\n    return getTranslation(translations, translationId, fallback);\n  }\n  return null;\n};\n_s(TranslateString, \"hOCbFljQBxvGM0d3yrZWVY+RT6k=\");\n_c = TranslateString;\nvar _c;\n$RefreshReg$(_c, \"TranslateString\");","map":{"version":3,"names":["useContext","TranslationsContext","variableRegex","replaceDynamicString","foundTranslation","fallback","stringToReplace","exec","indexToReplace","split","indexOf","fallbackValueAtIndex","replace","getTranslation","translations","translationId","find","translation","data","stringId","translatedString","text","includesVariable","includes","TranslateString","_s","length","_c","$RefreshReg$"],"sources":["C:/projects/panther-frontend-dex1/src/utils/translateTextHelpers.ts"],"sourcesContent":["import { useContext } from 'react'\r\nimport { TranslationsContext } from '../hooks/TranslationsContext'\r\n\r\nconst variableRegex = /%(.*?)%/\r\n\r\nconst replaceDynamicString = (foundTranslation: string, fallback: string) => {\r\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n  const stringToReplace = variableRegex.exec(foundTranslation)![0]\r\n  const indexToReplace = foundTranslation.split(' ').indexOf(stringToReplace)\r\n  const fallbackValueAtIndex = fallback.split(' ')[indexToReplace]\r\n  return foundTranslation.replace(stringToReplace, fallbackValueAtIndex)\r\n}\r\n\r\nexport const getTranslation = (translations: Array<any>, translationId: number, fallback: string) => {\r\n  const foundTranslation = translations.find((translation) => {\r\n    return translation.data.stringId === translationId\r\n  })\r\n  if (foundTranslation) {\r\n    const translatedString = foundTranslation.data.text\r\n    const includesVariable = translatedString.includes('%')\r\n    if (includesVariable) {\r\n      return replaceDynamicString(translatedString, fallback)\r\n    }\r\n    return translatedString\r\n  }\r\n  return fallback\r\n}\r\n\r\nexport const TranslateString = (translationId: number, fallback: string) => {\r\n  const { translations } = useContext(TranslationsContext)\r\n  if (translations[0] === 'error') {\r\n    return fallback\r\n  }\r\n  if (translations.length > 0) {\r\n    return getTranslation(translations, translationId, fallback)\r\n  }\r\n  return null\r\n}\r\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,mBAAmB,QAAQ,8BAA8B;AAElE,MAAMC,aAAa,GAAG,SAAS;AAE/B,MAAMC,oBAAoB,GAAGA,CAACC,gBAAwB,EAAEC,QAAgB,KAAK;EAC3E;EACA,MAAMC,eAAe,GAAGJ,aAAa,CAACK,IAAI,CAACH,gBAAgB,CAAC,CAAE,CAAC,CAAC;EAChE,MAAMI,cAAc,GAAGJ,gBAAgB,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,OAAO,CAACJ,eAAe,CAAC;EAC3E,MAAMK,oBAAoB,GAAGN,QAAQ,CAACI,KAAK,CAAC,GAAG,CAAC,CAACD,cAAc,CAAC;EAChE,OAAOJ,gBAAgB,CAACQ,OAAO,CAACN,eAAe,EAAEK,oBAAoB,CAAC;AACxE,CAAC;AAED,OAAO,MAAME,cAAc,GAAGA,CAACC,YAAwB,EAAEC,aAAqB,EAAEV,QAAgB,KAAK;EACnG,MAAMD,gBAAgB,GAAGU,YAAY,CAACE,IAAI,CAAEC,WAAW,IAAK;IAC1D,OAAOA,WAAW,CAACC,IAAI,CAACC,QAAQ,KAAKJ,aAAa;EACpD,CAAC,CAAC;EACF,IAAIX,gBAAgB,EAAE;IACpB,MAAMgB,gBAAgB,GAAGhB,gBAAgB,CAACc,IAAI,CAACG,IAAI;IACnD,MAAMC,gBAAgB,GAAGF,gBAAgB,CAACG,QAAQ,CAAC,GAAG,CAAC;IACvD,IAAID,gBAAgB,EAAE;MACpB,OAAOnB,oBAAoB,CAACiB,gBAAgB,EAAEf,QAAQ,CAAC;IACzD;IACA,OAAOe,gBAAgB;EACzB;EACA,OAAOf,QAAQ;AACjB,CAAC;AAED,OAAO,MAAMmB,eAAe,GAAGA,CAACT,aAAqB,EAAEV,QAAgB,KAAK;EAAAoB,EAAA;EAC1E,MAAM;IAAEX;EAAa,CAAC,GAAGd,UAAU,CAACC,mBAAmB,CAAC;EACxD,IAAIa,YAAY,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;IAC/B,OAAOT,QAAQ;EACjB;EACA,IAAIS,YAAY,CAACY,MAAM,GAAG,CAAC,EAAE;IAC3B,OAAOb,cAAc,CAACC,YAAY,EAAEC,aAAa,EAAEV,QAAQ,CAAC;EAC9D;EACA,OAAO,IAAI;AACb,CAAC;AAAAoB,EAAA,CATYD,eAAe;AAAAG,EAAA,GAAfH,eAAe;AAAA,IAAAG,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}