{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\panther-frontend-dex1\\\\src\\\\components\\\\Popups\\\\ListUpdatePopup.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useMemo } from 'react';\nimport { diffTokenLists } from '@uniswap/token-lists';\nimport { Button, Text } from '@pantherswap-libs/uikit';\nimport { useDispatch } from 'react-redux';\nimport { useRemovePopup } from '../../state/application/hooks';\nimport { acceptListUpdate } from '../../state/lists/actions';\nimport { TYPE } from '../Shared';\nimport listVersionLabel from '../../utils/listVersionLabel';\nimport { AutoColumn } from '../Column';\nimport { AutoRow } from '../Row';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  body: Body\n} = TYPE;\nexport default function ListUpdatePopup(_ref) {\n  _s();\n  let {\n    popKey,\n    listUrl,\n    oldList,\n    newList,\n    auto\n  } = _ref;\n  const removePopup = useRemovePopup();\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup]);\n  const dispatch = useDispatch();\n  const handleAcceptUpdate = useCallback(() => {\n    if (auto) return;\n    dispatch(acceptListUpdate(listUrl));\n    removeThisPopup();\n  }, [auto, dispatch, listUrl, removeThisPopup]);\n  const {\n    added: tokensAdded,\n    changed: tokensChanged,\n    removed: tokensRemoved\n  } = useMemo(() => {\n    return diffTokenLists(oldList.tokens, newList.tokens);\n  }, [newList.tokens, oldList.tokens]);\n  const numTokensChanged = useMemo(() => Object.keys(tokensChanged).reduce((memo, chainId) => memo + Object.keys(tokensChanged[chainId]).length, 0), [tokensChanged]);\n  return /*#__PURE__*/_jsxDEV(AutoRow, {\n    children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n      style: {\n        flex: '1'\n      },\n      gap: \"8px\",\n      children: auto ? /*#__PURE__*/_jsxDEV(Body, {\n        fontWeight: 500,\n        children: [\"The token list \\\"\", oldList.name, \"\\\" has been updated to\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: listVersionLabel(newList.version)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"14px\",\n            children: [\"An update is available for the token list \\\"\", oldList.name, \"\\\" (\", listVersionLabel(oldList.version), \" to \", listVersionLabel(newList.version), \").\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [tokensAdded.length > 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [tokensAdded.map((token, i) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  title: token.address,\n                  children: token.symbol\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 25\n                }, this), i === tokensAdded.length - 1 ? null : ', ']\n              }, `${token.chainId}-${token.address}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 23\n              }, this)), ' ', \"added\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this) : null, tokensRemoved.length > 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [tokensRemoved.map((token, i) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  title: token.address,\n                  children: token.symbol\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 25\n                }, this), i === tokensRemoved.length - 1 ? null : ', ']\n              }, `${token.chainId}-${token.address}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 23\n              }, this)), ' ', \"removed\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this) : null, numTokensChanged > 0 ? /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [numTokensChanged, \" tokens updated\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 41\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AutoRow, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flexGrow: 1,\n              marginRight: 12\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleAcceptUpdate,\n              children: \"Accept update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flexGrow: 1\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: removeThisPopup,\n              children: \"Dismiss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(ListUpdatePopup, \"2tcSnrRlVDuPrRObSbWSFbcqsgs=\", false, function () {\n  return [useRemovePopup, useDispatch];\n});\n_c = ListUpdatePopup;\nvar _c;\n$RefreshReg$(_c, \"ListUpdatePopup\");","map":{"version":3,"names":["React","useCallback","useMemo","diffTokenLists","Button","Text","useDispatch","useRemovePopup","acceptListUpdate","TYPE","listVersionLabel","AutoColumn","AutoRow","jsxDEV","_jsxDEV","Fragment","_Fragment","body","Body","ListUpdatePopup","_ref","_s","popKey","listUrl","oldList","newList","auto","removePopup","removeThisPopup","dispatch","handleAcceptUpdate","added","tokensAdded","changed","tokensChanged","removed","tokensRemoved","tokens","numTokensChanged","Object","keys","reduce","memo","chainId","length","children","style","flex","gap","fontWeight","name","version","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","map","token","i","title","address","symbol","flexGrow","marginRight","onClick","_c","$RefreshReg$"],"sources":["C:/projects/panther-frontend-dex1/src/components/Popups/ListUpdatePopup.tsx"],"sourcesContent":["import React, { useCallback, useMemo } from 'react'\r\nimport { diffTokenLists, TokenList } from '@uniswap/token-lists'\r\nimport { Button, Text } from '@pantherswap-libs/uikit'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from '../../state'\r\nimport { useRemovePopup } from '../../state/application/hooks'\r\nimport { acceptListUpdate } from '../../state/lists/actions'\r\nimport { TYPE } from '../Shared'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { AutoColumn } from '../Column'\r\nimport { AutoRow } from '../Row'\r\n\r\nconst { body: Body } = TYPE\r\n\r\nexport default function ListUpdatePopup({\r\n  popKey,\r\n  listUrl,\r\n  oldList,\r\n  newList,\r\n  auto,\r\n}: {\r\n  popKey: string\r\n  listUrl: string\r\n  oldList: TokenList\r\n  newList: TokenList\r\n  auto: boolean\r\n}) {\r\n  const removePopup = useRemovePopup()\r\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup])\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const handleAcceptUpdate = useCallback(() => {\r\n    if (auto) return\r\n    dispatch(acceptListUpdate(listUrl))\r\n    removeThisPopup()\r\n  }, [auto, dispatch, listUrl, removeThisPopup])\r\n\r\n  const { added: tokensAdded, changed: tokensChanged, removed: tokensRemoved } = useMemo(() => {\r\n    return diffTokenLists(oldList.tokens, newList.tokens)\r\n  }, [newList.tokens, oldList.tokens])\r\n  const numTokensChanged = useMemo(\r\n    () =>\r\n      Object.keys(tokensChanged).reduce((memo, chainId: any) => memo + Object.keys(tokensChanged[chainId]).length, 0),\r\n    [tokensChanged]\r\n  )\r\n\r\n  return (\r\n    <AutoRow>\r\n      <AutoColumn style={{ flex: '1' }} gap=\"8px\">\r\n        {auto ? (\r\n          <Body fontWeight={500}>\r\n            The token list &quot;{oldList.name}&quot; has been updated to{' '}\r\n            <strong>{listVersionLabel(newList.version)}</strong>.\r\n          </Body>\r\n        ) : (\r\n          <>\r\n            <div>\r\n              <Text fontSize=\"14px\">\r\n                An update is available for the token list &quot;{oldList.name}&quot; (\r\n                {listVersionLabel(oldList.version)} to {listVersionLabel(newList.version)}).\r\n              </Text>\r\n              <ul>\r\n                {tokensAdded.length > 0 ? (\r\n                  <li>\r\n                    {tokensAdded.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensAdded.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    added\r\n                  </li>\r\n                ) : null}\r\n                {tokensRemoved.length > 0 ? (\r\n                  <li>\r\n                    {tokensRemoved.map((token, i) => (\r\n                      <React.Fragment key={`${token.chainId}-${token.address}`}>\r\n                        <strong title={token.address}>{token.symbol}</strong>\r\n                        {i === tokensRemoved.length - 1 ? null : ', '}\r\n                      </React.Fragment>\r\n                    ))}{' '}\r\n                    removed\r\n                  </li>\r\n                ) : null}\r\n                {numTokensChanged > 0 ? <li>{numTokensChanged} tokens updated</li> : null}\r\n              </ul>\r\n            </div>\r\n            <AutoRow>\r\n              <div style={{ flexGrow: 1, marginRight: 12 }}>\r\n                <Button onClick={handleAcceptUpdate}>Accept update</Button>\r\n              </div>\r\n              <div style={{ flexGrow: 1 }}>\r\n                <Button onClick={removeThisPopup}>Dismiss</Button>\r\n              </div>\r\n            </AutoRow>\r\n          </>\r\n        )}\r\n      </AutoColumn>\r\n    </AutoRow>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}